/*!Wed Aug 14 2013 01:06:27 */
$(function(){function a(){$("#Activitie").val("").trigger("chosen:updated"),$("#category").val("").trigger("chosen:updated"),$("#Adults").val("").trigger("chosen:updated"),$("#Childrens").val("").trigger("chosen:updated"),$("#passengers").val("").trigger("chosen:updated")}function b(a){$(":input",a).each(function(){var a=this.type,b=this.tagName.toLowerCase();"text"==a||"password"==a||"email"==a||"textarea"==b?this.value="":"checkbox"==a||"radio"==a?this.checked=!1:"select"==b&&(this.selectedIndex=-1)})}$menu=$("#menu"),$menuTop=$("#menu-top"),$dialog=$(".window"),$mainNav=$menu.find("ul:first"),$menuItems=$mainNav.children("li");var c=function(){var a=function(){b(),c()},b=function(){$menu.find(".menu > li").addClass("menu-item"),$menu.find(".menu > li:nth-child(3n+1)").addClass("orange"),$menu.find(".menu > li:nth-child(3n+2)").addClass("lime"),$menu.find(".menu > li:nth-child(3n)").addClass("green"),$menu.find(".menu > li > ul").addClass("submenu")},c=function(){$menuItems.hover(d,e)},d=function(){var a=60,b=$(this).children().length,c=$(this).children(".submenu").height(),d=a+c;b>1&&$(this).stop().animate({height:d+"px",background:"red"},500)},e=function(){$(this).stop().animate({height:"40px"},500)};return{init:a}}(),d=function(){var c=function(){d(),e(),g()},d=function(){$menuTop.find(".menu > li").addClass("menu-item"),$menuTop.find(".menu > li > ul").addClass("submenu")},e=function(){$('<button type="button" id="menutoggle" class="navtoogle" aria-hidden="true"><i aria-hidden="true" class="icon-menu"> </i> Menu</button>').insertBefore($menuTop.find(".menu")),$('<li class="menu-item"><a href="../../index.php">Home</a></li>').insertBefore($menuTop.find(".menu > li:first")),$menuTop.find("#menutoggle").on("click",function(){f(this,"navtoogle active","navtoogle")}),$menuTop.find(".menu-top-item").on("click",function(a){"reservation"==a.currentTarget.id&&"none"==$("#reservationbox #dialog").css("display")&&($(".window").fadeOut(200),$("#reservationbox #dialog").fadeIn(200)),"call"==a.currentTarget.id&&"none"==$("#callbox #dialogC").css("display")&&($(".window").fadeOut(200),$("#callbox #dialogC").fadeIn(200)),"contact"==a.currentTarget.id&&"none"==$("#contactbox #dialogT").css("display")&&($(".window").fadeOut(200),$("#contactbox #dialogT").fadeIn(200))})},f=function(a,b,c){var d=new RegExp("(?:^|\\s+)"+b+"(?:\\s+|$)");return a.className=d.test(a.className)?a.className.replace(d," "+c+" "):a.className.replace(new RegExp("(?:^|\\s+)"+c+"(?:\\s+|$)")," "+b+" "),a.className},g=function(){$dialog.find(".close").on("click",function(c){c.preventDefault(),$dialog.fadeOut(200),b($("#reservationFormTour")),b($("#reservationFormTrans")),b($("#contactForm")),a()})};return{init:c}}();c.init(),d.init(),$.validator.setDefaults({ignore:":hidden:not(select)"}),$.getJSON("/3monkies/helpers/activities.php",function(a){var b=$("#Activitie").empty();$.each(a,function(a,c){b.append('<option value="'+$.trim(c.title)+'">'+c.title+"</option>")}),$(".chosen-select").trigger("chosen:updated")}),$(".chosen-select").chosen(),$("#formulario #option").on("change",function(){"tour"==$(this).val()&&($("#formulario").find("#reservationFormTour").show(),$("#formulario").find("#reservationFormTrans").hide()),"transport"==$(this).val()&&($("#formulario").find("#reservationFormTour").hide(),$("#formulario").find("#reservationFormTrans").show())}),$("#date").datepicker(),$("#dateP").datepicker(),$("#reservationFormTour").validate({rules:{Activitie:{required:!0},category:{required:!0},Childrens:{required:!0,number:!0},Adults:{required:!0,number:!0}},submitHandler:function(){var c=$("#reservationFormTour").serializeArray(),d="/3monkies/helpers/reservation.php";$.post(d,c,function(c){console.log(c),b($("#reservationFormTour")),a(),"ok"==c?$(".mensaje").html('<span class="ok">Reservation sent successfully</span>'):$(".mensaje").html('<span class="error">Error sending the reservation</span>'),setTimeout(function(){$(".mensaje").fadeOut(200,function(){$(".mensaje span").remove(),$(".mensaje").show()})},2e3)})}}),$("#reservationFormTrans").validate({rules:{passengers:{required:!0}},submitHandler:function(){var c=$("#reservationFormTrans").serializeArray(),d="/3monkies/helpers/reservation.php";$.post(d,c,function(c){console.log(c),b($("#reservationFormTrans")),a(),"ok"==c?$(".mensaje").html('<span class="ok">Reservation sent successfully</span>'):$(".mensaje").html('<span class="error">Error sending the reservation</span>'),setTimeout(function(){$(".mensaje").fadeOut(200,function(){$(".mensaje span").remove(),$(".mensaje").show()})},2e3)})}}),$("#contactForm").validate({rules:{comments:{required:!0}},submitHandler:function(){var a=$("#contactForm").serializeArray(),c="/3monkies/helpers/contact.php";$.post(c,a,function(a){console.log(a),b($("#contactForm")),"ok"==a?$(".mensaje").html('<span class="ok">Comments sent successfully</span>'):$(".mensaje").html('<span class="error">Error sending the comments</span>'),setTimeout(function(){$(".mensaje").fadeOut(200,function(){$(".mensaje span").remove(),$(".mensaje").show()})},2e3)})}}),$(".tabs li").on("click",function(a){if(a.preventDefault(),"intro"==a.currentTarget.id&&"none"==$("#content-article").find("article.intro").css("display")&&($("#content-article article").hide(),$("#content-article").find("article.intro").fadeIn(500)),"details"==a.currentTarget.id&&"none"==$("#content-article").find("article.details").css("display")&&($("#content-article article").hide(),$("#content-article").find("article.details").fadeIn(500)),"rates"==a.currentTarget.id&&"none"==$("#content-article").find("article.rates").css("display")&&($("#content-article article").hide(),$("#content-article").find("article.rates").fadeIn(500)),"map"==a.currentTarget.id&&"none"==$("#content-article").find("article.map").css("display")&&($("#content-article article").hide(),$("#content-article").find("article.map").fadeIn(500)),"booknow"==a.currentTarget.id){var b,c=$("#option");b=$("#content-title > h1").text(),"tr"==a.currentTarget.className?($("#option option[value='transport']").attr("selected",!0),c[0].selectedIndex=1,$("#option").trigger("change"),$(".chosen-select").trigger("chosen:updated")):($("#option option[value='tour']").attr("selected",!0),c[0].selectedIndex=0,$("#Activitie option[value='"+b+"']").attr("selected",!0),$("#option").trigger("change"),$(".chosen-select").trigger("chosen:updated")),"none"==$("#reservationbox #dialog").css("display")&&($(".window").fadeOut(200),$("#reservationbox #dialog").fadeIn(200))}}),$(".team .detail").on("click",function(a){"p1"==a.currentTarget.id&&("none"==$("#content-article").find("div.p1").css("display")?($(".description-person").hide(),$("#content-article").find("div.p1").fadeIn(500)):$("#content-article").find("div.p1").hide()),"p2"==a.currentTarget.id&&("none"==$("#content-article").find("div.p2").css("display")?($(".description-person").hide(),$("#content-article").find("div.p2").fadeIn(500)):$("#content-article").find("div.p2").hide()),"p3"==a.currentTarget.id&&("none"==$("#content-article").find("div.p3").css("display")?($(".description-person").hide(),$("#content-article").find("div.p3").fadeIn(500)):$("#content-article").find("div.p3").hide())})});